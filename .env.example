# ──────────────────────────────────────────────
# Volvox Bot — Environment Variables
# Copy to .env and fill in your values:
#   cp .env.example .env
# ──────────────────────────────────────────────

# ── Discord ──────────────────────────────────

# Discord bot token (required)
DISCORD_TOKEN=your_discord_bot_token

# Discord application/client ID for slash command deployment (required)
DISCORD_CLIENT_ID=your_discord_client_id

# Discord guild/server ID (optional — speeds up dev command deployment)
GUILD_ID=your_discord_guild_id

# Discord OAuth2 client secret (required for web dashboard)
DISCORD_CLIENT_SECRET=your_discord_client_secret

# Discord OAuth2 redirect URI (required for web dashboard)
DISCORD_REDIRECT_URI=http://localhost:3001/api/v1/auth/discord/callback

# Session secret for JWT signing (required for OAuth2 dashboard auth)
# Generate with: openssl rand -base64 32
SESSION_SECRET=your_session_secret

# ── Anthropic ───────────────────────────────

# Anthropic API key for Claude Agent SDK (required for AI features unless using OAuth)
# Standard API keys (sk-ant-api03-*): set ANTHROPIC_API_KEY only.
# OAuth access tokens (sk-ant-oat01-*): set CLAUDE_CODE_OAUTH_TOKEN only
# and leave ANTHROPIC_API_KEY blank.
ANTHROPIC_API_KEY=your_anthropic_api_key

# Claude Code OAuth token (required when using OAuth access tokens)
# The SDK subprocess sends this as Bearer auth. If both this and ANTHROPIC_API_KEY
# are set, the SDK sends conflicting auth headers and the API rejects the request.
# CLAUDE_CODE_OAUTH_TOKEN=your_oauth_token

# ── Database ─────────────────────────────────

# PostgreSQL connection string (required)
# For Docker Compose this is overridden automatically; set it for non-Docker use.
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/volvoxbot

# PostgreSQL connection pool size (optional — default: 5)
# PG_POOL_SIZE=5

# ── Web Dashboard ────────────────────────────

# NextAuth.js session encryption secret (required for web dashboard)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your_nextauth_secret

# NextAuth.js public URL (required for web dashboard)
# Docker Compose overrides this to http://localhost:3000 automatically.
NEXTAUTH_URL=http://localhost:3000

# Bot REST API port (optional — default: 3001)
BOT_API_PORT=3001

# Bot API URL for web dashboard → bot communication (required for web dashboard)
# Docker Compose overrides this when the bot API is available.
BOT_API_URL=http://localhost:3001

# Shared secret for bot ↔ web dashboard API authentication
# Required when running the web dashboard.
BOT_API_SECRET=your_bot_api_secret

# Dashboard URL for CORS origin (required for web dashboard)
DASHBOARD_URL=http://localhost:3000

# Discord client ID exposed to browser (required for web dashboard)
NEXT_PUBLIC_DISCORD_CLIENT_ID=your_discord_client_id

# ── Bot Owner / Permissions ───────────────────

# Bot owner Discord user IDs (comma-separated). Bot owners bypass all
# permission checks. Falls back to config.json permissions.botOwners if unset.
# Find your Discord user ID: User Settings → Advanced → Enable Developer Mode,
# then right-click your name → Copy User ID.
BOT_OWNER_IDS=your_discord_user_id

# ── Session Storage ──────────────────────────

# Redis URL for session storage (optional — falls back to in-memory)
# REDIS_URL=redis://localhost:6379

# ── Optional Integrations ────────────────────

# mem0 API key for user long-term memory (optional — memory features disabled without it)
# Get your API key from https://app.mem0.ai
MEM0_API_KEY=your_mem0_api_key

# ── Router (optional) ────────────────────────
# OpenRouter API key (required when using claude-code-router)
# OPENROUTER_API_KEY=your_openrouter_api_key

# ── Webhooks ─────────────────────────────────

# URL to POST when global config changes (optional — fire-and-forget, 5s timeout)
# CONFIG_CHANGE_WEBHOOK_URL=https://example.com/hooks/config-changed

# URL to POST when guild config changes (optional — notifies dashboard, 5s timeout)
# DASHBOARD_WEBHOOK_URL=https://example.com/hooks/dashboard-config-changed

# ── Sentry (Error Monitoring) ────────────────

# Sentry DSN — enables error tracking and alerting (optional)
# Get yours at https://sentry.io → Create Project → Node.js
# SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# Sentry environment name (optional — default: NODE_ENV or 'production')
# SENTRY_ENVIRONMENT=production

# Sentry performance sampling rate 0-1 (optional — default: 0.1 = 10%)
# SENTRY_TRACES_RATE=0.1

# ── Logging ──────────────────────────────────

# Logging level (optional: debug, info, warn, error — default: info)
LOG_LEVEL=info
